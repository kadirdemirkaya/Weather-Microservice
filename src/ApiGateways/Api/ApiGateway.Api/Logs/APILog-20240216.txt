2024-02-16 10:20:39.490 +03:00 [INF] User profile is available. Using 'C:\Users\Casper\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-16 10:20:40.234 +03:00 [INF] Now listening on: https://localhost:7101
2024-02-16 10:20:40.238 +03:00 [INF] Now listening on: http://localhost:5018
2024-02-16 10:20:40.257 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 10:20:40.259 +03:00 [INF] Hosting environment: Development
2024-02-16 10:20:40.270 +03:00 [INF] Content root path: C:\Users\Casper\Desktop\GitHub Projects\WeatherMicroservice\src\ApiGateways\Api\ApiGateway.Api
2024-02-16 10:20:47.250 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - -
2024-02-16 10:20:48.066 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - - - 200 - text/html;charset=utf-8 820.9900ms
2024-02-16 10:20:48.079 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7101/_vs/browserLink - -
2024-02-16 10:20:48.292 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7101/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 215.9439ms
2024-02-16 10:20:48.394 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - -
2024-02-16 10:20:48.873 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 478.7759ms
2024-02-16 10:21:19.250 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7101/api/ClientAndServer/ClientAndServer/Server/Weather/Current-Weather?city=Istanbul - -
2024-02-16 10:21:19.281 +03:00 [WRN] requestId: 0HN1ENV3SMIPI:00000001, previousRequestId: no previous request id, message: DownstreamRouteFinderMiddleware setting pipeline errors. IDownstreamRouteFinder returned Error Code: UnableToFindDownstreamRouteError Message: Failed to match Route configuration for upstream path: /api/ClientAndServer/ClientAndServer/Server/Weather/Current-Weather, verb: GET.
2024-02-16 10:21:19.285 +03:00 [WRN] requestId: 0HN1ENV3SMIPI:00000001, previousRequestId: no previous request id, message: Error Code: UnableToFindDownstreamRouteError Message: Failed to match Route configuration for upstream path: /api/ClientAndServer/ClientAndServer/Server/Weather/Current-Weather, verb: GET. errors found in ResponderMiddleware. Setting error response for request path:/api/ClientAndServer/ClientAndServer/Server/Weather/Current-Weather, request method: GET
2024-02-16 10:21:19.390 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7101/api/ClientAndServer/ClientAndServer/Server/Weather/Current-Weather?city=Istanbul - - - 404 0 - 139.7165ms
2024-02-16 10:37:33.962 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7101/ClientAndServer/ClientAndServer/Server/Weather/Current-Weather?city=Istanbul - -
2024-02-16 10:37:34.050 +03:00 [INF] requestId: 0HN1ENV3SMIPI:00000002, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 10:37:34.060 +03:00 [INF] requestId: 0HN1ENV3SMIPI:00000002, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Current-Weather
2024-02-16 10:37:34.084 +03:00 [INF] requestId: 0HN1ENV3SMIPI:00000002, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 10:37:34.097 +03:00 [INF] requestId: 0HN1ENV3SMIPI:00000002, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 10:37:34.103 +03:00 [INF] requestId: 0HN1ENV3SMIPI:00000002, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 10:37:53.114 +03:00 [INF] requestId: 0HN1ENV3SMIPI:00000002, previousRequestId: no previous request id, message: 400 (Bad Request) status code, request uri: https://localhost:7282/api/ClientAndServer/ClientAndServer/Server/Weather/Current-Weather?city=Istanbul
2024-02-16 10:37:53.153 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7101/ClientAndServer/ClientAndServer/Server/Weather/Current-Weather?city=Istanbul - - - 400 287 application/json 19191.0212ms
2024-02-16 10:38:25.930 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7101/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 10:38:25.945 +03:00 [INF] requestId: 0HN1ENV3SMIPI:00000003, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 10:38:25.998 +03:00 [INF] requestId: 0HN1ENV3SMIPI:00000003, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 10:38:26.001 +03:00 [INF] requestId: 0HN1ENV3SMIPI:00000003, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 12:12:44.280 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 12:12:44.379 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 12:12:44.426 +00:00 [INF] Creating key {cacb0e2a-c3fc-428b-b455-faba8d871d44} with creation date 2024-02-16 12:12:44Z, activation date 2024-02-16 12:12:44Z, and expiration date 2024-05-16 12:12:44Z.
2024-02-16 12:12:44.454 +00:00 [WRN] No XML encryptor configured. Key {cacb0e2a-c3fc-428b-b455-faba8d871d44} may be persisted to storage in unencrypted form.
2024-02-16 12:12:44.464 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-cacb0e2a-c3fc-428b-b455-faba8d871d44.xml'.
2024-02-16 12:12:44.529 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 12:12:44.538 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 12:12:44.541 +00:00 [INF] Hosting environment: Production
2024-02-16 12:12:44.543 +00:00 [INF] Content root path: /app
2024-02-16 12:15:55.474 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 12:15:55.497 +00:00 [WRN] Failed to determine the https port for redirect.
2024-02-16 12:15:55.616 +00:00 [INF] requestId: 0HN1ET2PVRGHF:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 12:15:55.622 +00:00 [INF] requestId: 0HN1ET2PVRGHF:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 12:15:55.627 +00:00 [INF] requestId: 0HN1ET2PVRGHF:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 12:15:55.636 +00:00 [INF] requestId: 0HN1ET2PVRGHF:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 12:15:55.638 +00:00 [INF] requestId: 0HN1ET2PVRGHF:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 12:15:55.771 +00:00 [ERR] requestId: 0HN1ET2PVRGHF:00000001, previousRequestId: no previous request id, message: Exception caught in global error handler, exception message: Cannot assign requested address (localhost:8500), exception stack:    at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext), inner exception message Cannot assign requested address, inner exception stack    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken) RequestId: 0HN1ET2PVRGHF:00000001
System.Net.Http.HttpRequestException: Cannot assign requested address (localhost:8500)
 ---> System.Net.Sockets.SocketException (99): Cannot assign requested address
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext)
2024-02-16 12:15:55.821 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - - - 500 0 - 350.1047ms
2024-02-16 15:19:25.971 +03:00 [INF] User profile is available. Using 'C:\Users\Casper\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-16 15:19:26.230 +03:00 [INF] Now listening on: https://localhost:7101
2024-02-16 15:19:26.251 +03:00 [INF] Now listening on: http://localhost:5018
2024-02-16 15:19:26.256 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:19:26.264 +03:00 [INF] Hosting environment: Development
2024-02-16 15:19:26.275 +03:00 [INF] Content root path: C:\Users\Casper\Desktop\GitHub Projects\WeatherMicroservice\src\ApiGateways\Api\ApiGateway.Api
2024-02-16 15:19:26.999 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - -
2024-02-16 15:19:27.410 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - - - 200 - text/html;charset=utf-8 415.0958ms
2024-02-16 15:19:27.426 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7101/_vs/browserLink - -
2024-02-16 15:19:27.545 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7101/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 118.2981ms
2024-02-16 15:19:27.649 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - -
2024-02-16 15:19:27.876 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 226.8860ms
2024-02-16 15:20:09.360 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7101/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 15:20:09.599 +03:00 [INF] requestId: 0HN1ET6273IAJ:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 15:20:09.607 +03:00 [INF] requestId: 0HN1ET6273IAJ:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 15:20:09.617 +03:00 [INF] requestId: 0HN1ET6273IAJ:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 15:20:09.637 +03:00 [INF] requestId: 0HN1ET6273IAJ:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 15:20:09.640 +03:00 [INF] requestId: 0HN1ET6273IAJ:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 15:20:13.802 +03:00 [ERR] requestId: 0HN1ET6273IAJ:00000001, previousRequestId: no previous request id, message: Exception caught in global error handler, exception message: Hedef makine etkin olarak reddettiğinden bağlantı kurulamadı. (localhost:8500), exception stack:    at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext), inner exception message Hedef makine etkin olarak reddettiğinden bağlantı kurulamadı., inner exception stack    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken) RequestId: 0HN1ET6273IAJ:00000001
System.Net.Http.HttpRequestException: Hedef makine etkin olarak reddettiğinden bağlantı kurulamadı. (localhost:8500)
 ---> System.Net.Sockets.SocketException (10061): Hedef makine etkin olarak reddettiğinden bağlantı kurulamadı.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext)
2024-02-16 15:20:13.868 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7101/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - - - 500 0 - 4508.1569ms
2024-02-16 15:23:52.008 +03:00 [INF] User profile is available. Using 'C:\Users\Casper\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-16 15:23:52.455 +03:00 [INF] Now listening on: https://localhost:7101
2024-02-16 15:23:52.458 +03:00 [INF] Now listening on: http://localhost:5018
2024-02-16 15:23:52.470 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:23:52.478 +03:00 [INF] Hosting environment: Development
2024-02-16 15:23:52.490 +03:00 [INF] Content root path: C:\Users\Casper\Desktop\GitHub Projects\WeatherMicroservice\src\ApiGateways\Api\ApiGateway.Api
2024-02-16 15:23:53.045 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - -
2024-02-16 15:23:53.668 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - - - 200 - text/html;charset=utf-8 628.8584ms
2024-02-16 15:23:53.680 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7101/_vs/browserLink - -
2024-02-16 15:23:53.791 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7101/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 111.6837ms
2024-02-16 15:23:53.888 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - -
2024-02-16 15:23:54.102 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 214.2062ms
2024-02-16 12:25:19.489 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 12:25:19.609 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 12:25:19.651 +00:00 [INF] Creating key {92b5268d-1eac-4ab3-85cf-1a9c950ce82b} with creation date 2024-02-16 12:25:19Z, activation date 2024-02-16 12:25:19Z, and expiration date 2024-05-16 12:25:19Z.
2024-02-16 12:25:19.679 +00:00 [WRN] No XML encryptor configured. Key {92b5268d-1eac-4ab3-85cf-1a9c950ce82b} may be persisted to storage in unencrypted form.
2024-02-16 12:25:19.689 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-92b5268d-1eac-4ab3-85cf-1a9c950ce82b.xml'.
2024-02-16 12:25:19.771 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 12:25:19.776 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 12:25:19.778 +00:00 [INF] Hosting environment: Production
2024-02-16 12:25:19.784 +00:00 [INF] Content root path: /app
2024-02-16 12:25:37.689 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 12:25:37.711 +00:00 [WRN] Failed to determine the https port for redirect.
2024-02-16 12:25:37.830 +00:00 [INF] requestId: 0HN1ET9GRA3B6:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 12:25:37.837 +00:00 [INF] requestId: 0HN1ET9GRA3B6:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 12:25:37.841 +00:00 [INF] requestId: 0HN1ET9GRA3B6:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 12:25:37.849 +00:00 [INF] requestId: 0HN1ET9GRA3B6:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 12:25:37.851 +00:00 [INF] requestId: 0HN1ET9GRA3B6:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 12:25:37.997 +00:00 [ERR] requestId: 0HN1ET9GRA3B6:00000001, previousRequestId: no previous request id, message: Exception caught in global error handler, exception message: Cannot assign requested address (localhost:8500), exception stack:    at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext), inner exception message Cannot assign requested address, inner exception stack    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken) RequestId: 0HN1ET9GRA3B6:00000001
System.Net.Http.HttpRequestException: Cannot assign requested address (localhost:8500)
 ---> System.Net.Sockets.SocketException (99): Cannot assign requested address
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext)
2024-02-16 12:25:38.058 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - - - 500 0 - 371.9960ms
2024-02-16 15:26:23.635 +03:00 [INF] User profile is available. Using 'C:\Users\Casper\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-16 15:26:23.931 +03:00 [INF] Now listening on: https://localhost:7101
2024-02-16 15:26:23.935 +03:00 [INF] Now listening on: http://localhost:5018
2024-02-16 15:26:23.945 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:26:23.955 +03:00 [INF] Hosting environment: Development
2024-02-16 15:26:23.957 +03:00 [INF] Content root path: C:\Users\Casper\Desktop\GitHub Projects\WeatherMicroservice\src\ApiGateways\Api\ApiGateway.Api
2024-02-16 15:26:24.586 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7101/swagger/index.html - -
2024-02-16 15:26:25.014 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7101/swagger/index.html - - - 200 - text/html;charset=utf-8 431.9187ms
2024-02-16 15:26:25.023 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7101/_vs/browserLink - -
2024-02-16 15:26:25.137 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7101/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 113.0432ms
2024-02-16 15:26:25.231 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - -
2024-02-16 15:26:25.434 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7101/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 203.1023ms
2024-02-16 15:26:58.123 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7101/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 15:26:58.231 +03:00 [INF] requestId: 0HN1ET9UNFIIH:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 15:26:58.243 +03:00 [INF] requestId: 0HN1ET9UNFIIH:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 15:26:58.263 +03:00 [INF] requestId: 0HN1ET9UNFIIH:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 15:26:58.273 +03:00 [INF] requestId: 0HN1ET9UNFIIH:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 15:26:58.283 +03:00 [INF] requestId: 0HN1ET9UNFIIH:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 12:30:29.233 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 12:30:29.439 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 12:30:29.515 +00:00 [INF] Creating key {beadf9af-7dd2-4933-9044-6e5513fcf539} with creation date 2024-02-16 12:30:29Z, activation date 2024-02-16 12:30:29Z, and expiration date 2024-05-16 12:30:29Z.
2024-02-16 12:30:29.614 +00:00 [WRN] No XML encryptor configured. Key {beadf9af-7dd2-4933-9044-6e5513fcf539} may be persisted to storage in unencrypted form.
2024-02-16 12:30:29.635 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-beadf9af-7dd2-4933-9044-6e5513fcf539.xml'.
2024-02-16 12:30:29.839 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 12:30:29.844 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 12:30:29.845 +00:00 [INF] Hosting environment: Production
2024-02-16 12:30:29.845 +00:00 [INF] Content root path: /app
2024-02-16 12:30:55.483 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 12:30:55.509 +00:00 [WRN] Failed to determine the https port for redirect.
2024-02-16 12:30:55.642 +00:00 [INF] requestId: 0HN1ETCFI19TM:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 12:30:55.648 +00:00 [INF] requestId: 0HN1ETCFI19TM:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 12:30:55.654 +00:00 [INF] requestId: 0HN1ETCFI19TM:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 12:30:55.665 +00:00 [INF] requestId: 0HN1ETCFI19TM:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 12:30:55.667 +00:00 [INF] requestId: 0HN1ETCFI19TM:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 12:30:55.771 +00:00 [ERR] requestId: 0HN1ETCFI19TM:00000001, previousRequestId: no previous request id, message: Exception caught in global error handler, exception message: Cannot assign requested address (localhost:8500), exception stack:    at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext), inner exception message Cannot assign requested address, inner exception stack    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken) RequestId: 0HN1ETCFI19TM:00000001
System.Net.Http.HttpRequestException: Cannot assign requested address (localhost:8500)
 ---> System.Net.Sockets.SocketException (99): Cannot assign requested address
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext)
2024-02-16 12:30:55.835 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - - - 500 0 - 354.7309ms
2024-02-16 12:37:11.662 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 12:37:11.804 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 12:37:11.854 +00:00 [INF] Creating key {a1893e86-463b-4139-a36c-f836535e465a} with creation date 2024-02-16 12:37:11Z, activation date 2024-02-16 12:37:11Z, and expiration date 2024-05-16 12:37:11Z.
2024-02-16 12:37:11.893 +00:00 [WRN] No XML encryptor configured. Key {a1893e86-463b-4139-a36c-f836535e465a} may be persisted to storage in unencrypted form.
2024-02-16 12:37:11.904 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-a1893e86-463b-4139-a36c-f836535e465a.xml'.
2024-02-16 12:37:12.025 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 12:37:12.037 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 12:37:12.039 +00:00 [INF] Hosting environment: Production
2024-02-16 12:37:12.042 +00:00 [INF] Content root path: /app
2024-02-16 12:37:17.729 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 12:37:17.758 +00:00 [WRN] Failed to determine the https port for redirect.
2024-02-16 12:37:17.932 +00:00 [INF] requestId: 0HN1ETG1F68OB:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 12:37:17.941 +00:00 [INF] requestId: 0HN1ETG1F68OB:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 12:37:17.952 +00:00 [INF] requestId: 0HN1ETG1F68OB:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 12:37:17.967 +00:00 [INF] requestId: 0HN1ETG1F68OB:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 12:37:17.969 +00:00 [INF] requestId: 0HN1ETG1F68OB:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 12:37:18.129 +00:00 [ERR] requestId: 0HN1ETG1F68OB:00000001, previousRequestId: no previous request id, message: Exception caught in global error handler, exception message: Cannot assign requested address (localhost:8500), exception stack:    at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext), inner exception message Cannot assign requested address, inner exception stack    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken) RequestId: 0HN1ETG1F68OB:00000001
System.Net.Http.HttpRequestException: Cannot assign requested address (localhost:8500)
 ---> System.Net.Sockets.SocketException (99): Cannot assign requested address
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext)
2024-02-16 12:37:18.211 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - - - 500 0 - 486.3579ms
2024-02-16 15:44:36.788 +03:00 [INF] User profile is available. Using 'C:\Users\Casper\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-16 15:44:37.298 +03:00 [INF] Now listening on: https://localhost:7101
2024-02-16 15:44:37.302 +03:00 [INF] Now listening on: http://localhost:5018
2024-02-16 15:44:37.313 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:44:37.320 +03:00 [INF] Hosting environment: Development
2024-02-16 15:44:37.330 +03:00 [INF] Content root path: C:\Users\Casper\Desktop\GitHub Projects\WeatherMicroservice\src\ApiGateways\Api\ApiGateway.Api
2024-02-16 15:46:14.644 +03:00 [INF] User profile is available. Using 'C:\Users\Casper\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-16 15:46:15.123 +03:00 [INF] Now listening on: https://localhost:7100
2024-02-16 15:46:15.159 +03:00 [INF] Now listening on: http://localhost:5018
2024-02-16 15:46:15.175 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:46:15.181 +03:00 [INF] Hosting environment: Development
2024-02-16 15:46:15.186 +03:00 [INF] Content root path: C:\Users\Casper\Desktop\GitHub Projects\WeatherMicroservice\src\ApiGateways\Api\ApiGateway.Api
2024-02-16 15:47:16.186 +03:00 [INF] User profile is available. Using 'C:\Users\Casper\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-16 15:47:16.574 +03:00 [INF] Now listening on: https://localhost:7100
2024-02-16 15:47:16.577 +03:00 [INF] Now listening on: http://localhost:5018
2024-02-16 15:47:16.594 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:47:16.596 +03:00 [INF] Hosting environment: Development
2024-02-16 15:47:16.601 +03:00 [INF] Content root path: C:\Users\Casper\Desktop\GitHub Projects\WeatherMicroservice\src\ApiGateways\Api\ApiGateway.Api
2024-02-16 15:48:54.469 +03:00 [INF] User profile is available. Using 'C:\Users\Casper\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-16 15:48:54.902 +03:00 [INF] Now listening on: https://localhost:7100
2024-02-16 15:48:54.912 +03:00 [INF] Now listening on: http://localhost:5018
2024-02-16 15:48:54.921 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:48:54.930 +03:00 [INF] Hosting environment: Development
2024-02-16 15:48:54.935 +03:00 [INF] Content root path: C:\Users\Casper\Desktop\GitHub Projects\WeatherMicroservice\src\ApiGateways\Api\ApiGateway.Api
2024-02-16 15:49:14.099 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7100/swagger - -
2024-02-16 15:49:14.407 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7100/swagger - - - 301 0 - 313.0070ms
2024-02-16 15:49:14.419 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7100/swagger/index.html - -
2024-02-16 15:49:14.603 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7100/swagger/index.html - - - 200 - text/html;charset=utf-8 183.9430ms
2024-02-16 15:49:14.609 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7100/swagger/swagger-ui-standalone-preset.js - -
2024-02-16 15:49:14.609 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7100/swagger/swagger-ui-bundle.js - -
2024-02-16 15:49:14.608 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7100/swagger/swagger-ui.css - -
2024-02-16 15:49:14.615 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7100/_vs/browserLink - -
2024-02-16 15:49:14.754 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7100/swagger/swagger-ui.css - - - 200 144929 text/css 145.3092ms
2024-02-16 15:49:14.769 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7100/swagger/swagger-ui-standalone-preset.js - - - 200 312163 text/javascript 159.8003ms
2024-02-16 15:49:14.827 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7100/swagger/swagger-ui-bundle.js - - - 200 1061536 text/javascript 217.4934ms
2024-02-16 15:49:16.132 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7100/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 1517.6274ms
2024-02-16 15:49:16.201 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7100/swagger/v1/swagger.json - -
2024-02-16 15:49:16.245 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7100/swagger/favicon-32x32.png - -
2024-02-16 15:49:16.249 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7100/swagger/favicon-32x32.png - - - 200 628 image/png 4.0781ms
2024-02-16 15:49:16.387 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7100/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 185.8613ms
2024-02-16 15:50:28.191 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7100/ClientAndServer/ClientAndServer/Server/Weather/Current-Weather?city=Istanbul - -
2024-02-16 15:50:28.258 +03:00 [INF] requestId: 0HN1ETMH9BO9V:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 15:50:28.266 +03:00 [INF] requestId: 0HN1ETMH9BO9V:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Current-Weather
2024-02-16 15:50:28.281 +03:00 [INF] requestId: 0HN1ETMH9BO9V:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 15:50:28.289 +03:00 [INF] requestId: 0HN1ETMH9BO9V:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 15:50:28.292 +03:00 [INF] requestId: 0HN1ETMH9BO9V:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 15:51:57.874 +03:00 [INF] User profile is available. Using 'C:\Users\Casper\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-02-16 15:51:58.248 +03:00 [INF] Now listening on: https://localhost:7100
2024-02-16 15:51:58.251 +03:00 [INF] Now listening on: http://localhost:5018
2024-02-16 15:51:58.268 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:51:58.270 +03:00 [INF] Hosting environment: Development
2024-02-16 15:51:58.278 +03:00 [INF] Content root path: C:\Users\Casper\Desktop\GitHub Projects\WeatherMicroservice\src\ApiGateways\Api\ApiGateway.Api
2024-02-16 15:51:59.705 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7100/swagger/index.html - -
2024-02-16 15:52:00.337 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7100/swagger/index.html - - - 200 - text/html;charset=utf-8 640.2811ms
2024-02-16 15:52:00.379 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7100/_vs/browserLink - -
2024-02-16 15:52:00.530 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7100/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 149.5897ms
2024-02-16 15:52:00.861 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7100/swagger/v1/swagger.json - -
2024-02-16 15:52:01.116 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7100/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 254.1264ms
2024-02-16 15:52:03.795 +03:00 [INF] Request starting HTTP/1.1 GET https://localhost:7100/ClientAndServer/ClientAndServer/Server/Weather/Current-Weather?city=Istanbul - -
2024-02-16 15:52:03.849 +03:00 [INF] requestId: 0HN1ETO808SC6:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 15:52:03.857 +03:00 [INF] requestId: 0HN1ETO808SC6:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Current-Weather
2024-02-16 15:52:03.865 +03:00 [INF] requestId: 0HN1ETO808SC6:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 15:52:03.876 +03:00 [INF] requestId: 0HN1ETO808SC6:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 15:52:03.878 +03:00 [INF] requestId: 0HN1ETO808SC6:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 15:52:07.581 +03:00 [INF] requestId: 0HN1ETO808SC6:00000001, previousRequestId: no previous request id, message: 200 (OK) status code, request uri: https://localhost:7282/api/ClientAndServer/ClientAndServer/Server/Weather/Current-Weather?city=Istanbul
2024-02-16 15:52:07.612 +03:00 [INF] Request finished HTTP/1.1 GET https://localhost:7100/ClientAndServer/ClientAndServer/Server/Weather/Current-Weather?city=Istanbul - - - 200 285 application/json;+charset=utf-8 3817.4922ms
2024-02-16 12:54:36.790 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 12:54:36.995 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 12:54:37.059 +00:00 [INF] Creating key {68341fe4-74f0-4594-85c1-6cf149913391} with creation date 2024-02-16 12:54:37Z, activation date 2024-02-16 12:54:37Z, and expiration date 2024-05-16 12:54:37Z.
2024-02-16 12:54:37.102 +00:00 [WRN] No XML encryptor configured. Key {68341fe4-74f0-4594-85c1-6cf149913391} may be persisted to storage in unencrypted form.
2024-02-16 12:54:37.120 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-68341fe4-74f0-4594-85c1-6cf149913391.xml'.
2024-02-16 12:54:37.235 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 12:54:37.244 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 12:54:37.246 +00:00 [INF] Hosting environment: Production
2024-02-16 12:54:37.247 +00:00 [INF] Content root path: /app
2024-02-16 12:55:19.421 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 12:55:19.446 +00:00 [WRN] Failed to determine the https port for redirect.
2024-02-16 12:55:19.568 +00:00 [INF] requestId: 0HN1ETQ3R7BU5:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 12:55:19.576 +00:00 [INF] requestId: 0HN1ETQ3R7BU5:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 12:55:19.581 +00:00 [INF] requestId: 0HN1ETQ3R7BU5:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 12:55:19.591 +00:00 [INF] requestId: 0HN1ETQ3R7BU5:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 12:55:19.593 +00:00 [INF] requestId: 0HN1ETQ3R7BU5:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 12:55:19.701 +00:00 [ERR] requestId: 0HN1ETQ3R7BU5:00000001, previousRequestId: no previous request id, message: Exception caught in global error handler, exception message: Cannot assign requested address (localhost:8500), exception stack:    at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext), inner exception message Cannot assign requested address, inner exception stack    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken) RequestId: 0HN1ETQ3R7BU5:00000001
System.Net.Http.HttpRequestException: Cannot assign requested address (localhost:8500)
 ---> System.Net.Sockets.SocketException (99): Cannot assign requested address
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext)
2024-02-16 12:55:19.764 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - - - 500 0 - 346.4074ms
2024-02-16 13:03:37.280 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 13:03:37.430 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 13:03:37.490 +00:00 [INF] Creating key {bb994c00-7d47-48ce-8956-2f162c71db27} with creation date 2024-02-16 13:03:37Z, activation date 2024-02-16 13:03:37Z, and expiration date 2024-05-16 13:03:37Z.
2024-02-16 13:03:37.529 +00:00 [WRN] No XML encryptor configured. Key {bb994c00-7d47-48ce-8956-2f162c71db27} may be persisted to storage in unencrypted form.
2024-02-16 13:03:37.548 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-bb994c00-7d47-48ce-8956-2f162c71db27.xml'.
2024-02-16 13:03:37.665 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 13:03:37.673 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 13:03:37.682 +00:00 [INF] Hosting environment: Production
2024-02-16 13:03:37.687 +00:00 [INF] Content root path: /app
2024-02-16 13:06:35.370 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 13:06:35.760 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 13:06:35.860 +00:00 [INF] Creating key {b78e186e-9f54-4066-90eb-7d6e1710bef1} with creation date 2024-02-16 13:06:35Z, activation date 2024-02-16 13:06:35Z, and expiration date 2024-05-16 13:06:35Z.
2024-02-16 13:06:35.935 +00:00 [WRN] No XML encryptor configured. Key {b78e186e-9f54-4066-90eb-7d6e1710bef1} may be persisted to storage in unencrypted form.
2024-02-16 13:06:35.958 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-b78e186e-9f54-4066-90eb-7d6e1710bef1.xml'.
2024-02-16 13:06:36.135 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 13:06:36.145 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 13:06:36.146 +00:00 [INF] Hosting environment: Production
2024-02-16 13:06:36.152 +00:00 [INF] Content root path: /app
2024-02-16 13:06:48.414 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 13:06:48.470 +00:00 [WRN] Failed to determine the https port for redirect.
2024-02-16 13:06:48.838 +00:00 [INF] requestId: 0HN1EU0H518H3:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 13:06:48.856 +00:00 [INF] requestId: 0HN1EU0H518H3:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 13:06:48.871 +00:00 [INF] requestId: 0HN1EU0H518H3:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 13:06:48.892 +00:00 [INF] requestId: 0HN1EU0H518H3:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 13:06:48.896 +00:00 [INF] requestId: 0HN1EU0H518H3:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 13:06:49.200 +00:00 [ERR] requestId: 0HN1EU0H518H3:00000001, previousRequestId: no previous request id, message: Exception caught in global error handler, exception message: Cannot assign requested address (localhost:8500), exception stack:    at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext), inner exception message Cannot assign requested address, inner exception stack    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken) RequestId: 0HN1EU0H518H3:00000001
System.Net.Http.HttpRequestException: Cannot assign requested address (localhost:8500)
 ---> System.Net.Sockets.SocketException (99): Cannot assign requested address
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext)
2024-02-16 13:06:49.326 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - - - 500 0 - 920.6178ms
2024-02-16 13:13:00.319 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 13:13:00.521 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 13:13:00.622 +00:00 [INF] Creating key {aa9e719c-7b73-4a23-9b7a-f108cc5464bc} with creation date 2024-02-16 13:13:00Z, activation date 2024-02-16 13:13:00Z, and expiration date 2024-05-16 13:13:00Z.
2024-02-16 13:13:00.674 +00:00 [WRN] No XML encryptor configured. Key {aa9e719c-7b73-4a23-9b7a-f108cc5464bc} may be persisted to storage in unencrypted form.
2024-02-16 13:13:00.697 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-aa9e719c-7b73-4a23-9b7a-f108cc5464bc.xml'.
2024-02-16 13:13:00.812 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 13:13:00.819 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 13:13:00.825 +00:00 [INF] Hosting environment: Production
2024-02-16 13:13:00.826 +00:00 [INF] Content root path: /app
2024-02-16 13:13:57.582 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 13:13:57.606 +00:00 [WRN] Failed to determine the https port for redirect.
2024-02-16 13:13:57.741 +00:00 [INF] requestId: 0HN1EU4H2R1OS:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 13:13:57.746 +00:00 [INF] requestId: 0HN1EU4H2R1OS:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 13:13:57.751 +00:00 [INF] requestId: 0HN1EU4H2R1OS:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 13:13:57.759 +00:00 [INF] requestId: 0HN1EU4H2R1OS:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 13:13:57.761 +00:00 [INF] requestId: 0HN1EU4H2R1OS:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 13:13:57.871 +00:00 [ERR] requestId: 0HN1EU4H2R1OS:00000001, previousRequestId: no previous request id, message: Exception caught in global error handler, exception message: Cannot assign requested address (localhost:8500), exception stack:    at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext), inner exception message Cannot assign requested address, inner exception stack    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken) RequestId: 0HN1EU4H2R1OS:00000001
System.Net.Http.HttpRequestException: Cannot assign requested address (localhost:8500)
 ---> System.Net.Sockets.SocketException (99): Cannot assign requested address
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext)
2024-02-16 13:13:57.924 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - - - 500 0 - 345.7392ms
2024-02-16 13:15:10.027 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 13:15:10.229 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 13:15:10.311 +00:00 [INF] Creating key {b979bff3-b4a9-4e4f-937e-d80493f83cba} with creation date 2024-02-16 13:15:10Z, activation date 2024-02-16 13:15:10Z, and expiration date 2024-05-16 13:15:10Z.
2024-02-16 13:15:10.374 +00:00 [WRN] No XML encryptor configured. Key {b979bff3-b4a9-4e4f-937e-d80493f83cba} may be persisted to storage in unencrypted form.
2024-02-16 13:15:10.391 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-b979bff3-b4a9-4e4f-937e-d80493f83cba.xml'.
2024-02-16 13:15:10.495 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 13:15:10.502 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 13:15:10.504 +00:00 [INF] Hosting environment: Production
2024-02-16 13:15:10.506 +00:00 [INF] Content root path: /app
2024-02-16 13:17:04.465 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 13:17:04.572 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 13:17:04.614 +00:00 [INF] Creating key {5442c12c-441d-4988-8493-14ffc3ed4f30} with creation date 2024-02-16 13:17:04Z, activation date 2024-02-16 13:17:04Z, and expiration date 2024-05-16 13:17:04Z.
2024-02-16 13:17:04.727 +00:00 [WRN] No XML encryptor configured. Key {5442c12c-441d-4988-8493-14ffc3ed4f30} may be persisted to storage in unencrypted form.
2024-02-16 13:17:04.742 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-5442c12c-441d-4988-8493-14ffc3ed4f30.xml'.
2024-02-16 13:17:04.930 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 13:17:04.941 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 13:17:04.943 +00:00 [INF] Hosting environment: Production
2024-02-16 13:17:04.945 +00:00 [INF] Content root path: /app
2024-02-16 13:21:13.918 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 13:21:14.166 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 13:21:14.253 +00:00 [INF] Creating key {846a4696-e521-4390-b2d3-01cffd886935} with creation date 2024-02-16 13:21:14Z, activation date 2024-02-16 13:21:14Z, and expiration date 2024-05-16 13:21:14Z.
2024-02-16 13:21:14.312 +00:00 [WRN] No XML encryptor configured. Key {846a4696-e521-4390-b2d3-01cffd886935} may be persisted to storage in unencrypted form.
2024-02-16 13:21:14.328 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-846a4696-e521-4390-b2d3-01cffd886935.xml'.
2024-02-16 13:21:14.451 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 13:21:14.460 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 13:21:14.462 +00:00 [INF] Hosting environment: Production
2024-02-16 13:21:14.464 +00:00 [INF] Content root path: /app
2024-02-16 15:02:44.271 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 15:02:44.341 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 15:02:44.444 +00:00 [INF] Creating key {91bc3d84-92dc-45b9-bb02-e91bc158133f} with creation date 2024-02-16 15:02:44Z, activation date 2024-02-16 15:02:44Z, and expiration date 2024-05-16 15:02:44Z.
2024-02-16 15:02:44.465 +00:00 [WRN] No XML encryptor configured. Key {91bc3d84-92dc-45b9-bb02-e91bc158133f} may be persisted to storage in unencrypted form.
2024-02-16 15:02:44.472 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-91bc3d84-92dc-45b9-bb02-e91bc158133f.xml'.
2024-02-16 15:02:45.001 +00:00 [INF] Now listening on: https://[::]:443
2024-02-16 15:02:45.001 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 15:02:45.005 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:02:45.006 +00:00 [INF] Hosting environment: Development
2024-02-16 15:02:45.008 +00:00 [INF] Content root path: /app
2024-02-16 15:05:48.158 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 15:05:48.331 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 15:05:48.372 +00:00 [INF] Creating key {a7cab327-0e46-475f-b1ab-922bcd024c05} with creation date 2024-02-16 15:05:48Z, activation date 2024-02-16 15:05:48Z, and expiration date 2024-05-16 15:05:48Z.
2024-02-16 15:05:48.398 +00:00 [WRN] No XML encryptor configured. Key {a7cab327-0e46-475f-b1ab-922bcd024c05} may be persisted to storage in unencrypted form.
2024-02-16 15:05:48.405 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-a7cab327-0e46-475f-b1ab-922bcd024c05.xml'.
2024-02-16 15:05:48.454 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 15:05:48.457 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:05:48.459 +00:00 [INF] Hosting environment: Production
2024-02-16 15:05:48.460 +00:00 [INF] Content root path: /app
2024-02-16 15:06:54.502 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 15:06:54.528 +00:00 [WRN] Failed to determine the https port for redirect.
2024-02-16 15:06:54.668 +00:00 [INF] requestId: 0HN1F03KOFGM2:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 15:06:54.675 +00:00 [INF] requestId: 0HN1F03KOFGM2:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 15:06:54.681 +00:00 [INF] requestId: 0HN1F03KOFGM2:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 15:06:54.694 +00:00 [INF] requestId: 0HN1F03KOFGM2:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 15:06:54.695 +00:00 [INF] requestId: 0HN1F03KOFGM2:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 15:06:54.870 +00:00 [ERR] requestId: 0HN1F03KOFGM2:00000001, previousRequestId: no previous request id, message: Exception caught in global error handler, exception message: Cannot assign requested address (localhost:8500), exception stack:    at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext), inner exception message Cannot assign requested address, inner exception stack    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken) RequestId: 0HN1F03KOFGM2:00000001
System.Net.Http.HttpRequestException: Cannot assign requested address (localhost:8500)
 ---> System.Net.Sockets.SocketException (99): Cannot assign requested address
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext)
2024-02-16 15:06:54.956 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - - - 500 0 - 458.6549ms
2024-02-16 15:09:32.758 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 15:09:32.908 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 15:09:32.960 +00:00 [INF] Creating key {3f377c24-ed61-41f4-a374-6485870d3709} with creation date 2024-02-16 15:09:32Z, activation date 2024-02-16 15:09:32Z, and expiration date 2024-05-16 15:09:32Z.
2024-02-16 15:09:32.998 +00:00 [WRN] No XML encryptor configured. Key {3f377c24-ed61-41f4-a374-6485870d3709} may be persisted to storage in unencrypted form.
2024-02-16 15:09:33.013 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-3f377c24-ed61-41f4-a374-6485870d3709.xml'.
2024-02-16 15:09:33.156 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 15:09:33.167 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:09:33.171 +00:00 [INF] Hosting environment: Production
2024-02-16 15:09:33.174 +00:00 [INF] Content root path: /app
2024-02-16 15:10:35.205 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 15:10:35.227 +00:00 [WRN] Failed to determine the https port for redirect.
2024-02-16 15:10:35.355 +00:00 [INF] requestId: 0HN1F05MH2FH5:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 15:10:35.361 +00:00 [INF] requestId: 0HN1F05MH2FH5:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 15:10:35.368 +00:00 [INF] requestId: 0HN1F05MH2FH5:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 15:10:35.376 +00:00 [INF] requestId: 0HN1F05MH2FH5:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 15:10:35.378 +00:00 [INF] requestId: 0HN1F05MH2FH5:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 15:10:35.488 +00:00 [ERR] requestId: 0HN1F05MH2FH5:00000001, previousRequestId: no previous request id, message: Exception caught in global error handler, exception message: Cannot assign requested address (localhost:8500), exception stack:    at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext), inner exception message Cannot assign requested address, inner exception stack    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken) RequestId: 0HN1F05MH2FH5:00000001
System.Net.Http.HttpRequestException: Cannot assign requested address (localhost:8500)
 ---> System.Net.Sockets.SocketException (99): Cannot assign requested address
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext)
2024-02-16 15:10:35.539 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - - - 500 0 - 336.6461ms
2024-02-16 15:11:25.694 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 15:11:25.969 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 15:11:26.087 +00:00 [INF] Creating key {9c88609e-2a6b-4d83-bd2d-7f1e7c04826b} with creation date 2024-02-16 15:11:26Z, activation date 2024-02-16 15:11:26Z, and expiration date 2024-05-16 15:11:26Z.
2024-02-16 15:11:26.138 +00:00 [WRN] No XML encryptor configured. Key {9c88609e-2a6b-4d83-bd2d-7f1e7c04826b} may be persisted to storage in unencrypted form.
2024-02-16 15:11:26.154 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-9c88609e-2a6b-4d83-bd2d-7f1e7c04826b.xml'.
2024-02-16 15:11:26.263 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 15:11:26.275 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:11:26.277 +00:00 [INF] Hosting environment: Production
2024-02-16 15:11:26.282 +00:00 [INF] Content root path: /app
2024-02-16 15:11:36.532 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 15:11:36.562 +00:00 [WRN] Failed to determine the https port for redirect.
2024-02-16 15:11:36.718 +00:00 [INF] requestId: 0HN1F068Q2VAG:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 15:11:36.728 +00:00 [INF] requestId: 0HN1F068Q2VAG:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 15:11:36.734 +00:00 [INF] requestId: 0HN1F068Q2VAG:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 15:11:36.748 +00:00 [INF] requestId: 0HN1F068Q2VAG:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 15:11:36.750 +00:00 [INF] requestId: 0HN1F068Q2VAG:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 15:11:36.882 +00:00 [ERR] requestId: 0HN1F068Q2VAG:00000001, previousRequestId: no previous request id, message: Exception caught in global error handler, exception message: Cannot assign requested address (localhost:8500), exception stack:    at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext), inner exception message Cannot assign requested address, inner exception stack    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken) RequestId: 0HN1F068Q2VAG:00000001
System.Net.Http.HttpRequestException: Cannot assign requested address (localhost:8500)
 ---> System.Net.Sockets.SocketException (99): Cannot assign requested address
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext)
2024-02-16 15:11:36.935 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - - - 500 0 - 406.4122ms
2024-02-16 15:12:27.645 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 15:12:27.776 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 15:12:27.819 +00:00 [INF] Creating key {5531517f-0729-4d8b-9fd9-6f1fa008a259} with creation date 2024-02-16 15:12:27Z, activation date 2024-02-16 15:12:27Z, and expiration date 2024-05-16 15:12:27Z.
2024-02-16 15:12:27.848 +00:00 [WRN] No XML encryptor configured. Key {5531517f-0729-4d8b-9fd9-6f1fa008a259} may be persisted to storage in unencrypted form.
2024-02-16 15:12:27.858 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-5531517f-0729-4d8b-9fd9-6f1fa008a259.xml'.
2024-02-16 15:12:27.932 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 15:12:27.940 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:12:27.946 +00:00 [INF] Hosting environment: Production
2024-02-16 15:12:27.954 +00:00 [INF] Content root path: /app
2024-02-16 15:12:40.057 +00:00 [INF] Request starting HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - -
2024-02-16 15:12:40.080 +00:00 [WRN] Failed to determine the https port for redirect.
2024-02-16 15:12:40.213 +00:00 [INF] requestId: 0HN1F06RO0CTU:00000001, previousRequestId: no previous request id, message: EndpointRateLimiting is not enabled for /api/ClientAndServer/{everything}
2024-02-16 15:12:40.219 +00:00 [INF] requestId: 0HN1F06RO0CTU:00000001, previousRequestId: no previous request id, message: No authentication needed for /ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather
2024-02-16 15:12:40.227 +00:00 [INF] requestId: 0HN1F06RO0CTU:00000001, previousRequestId: no previous request id, message: /api/ClientAndServer/{everything} route does not require user to be authorized
2024-02-16 15:12:40.236 +00:00 [INF] requestId: 0HN1F06RO0CTU:00000001, previousRequestId: no previous request id, message: The UseServiceDiscovery mode of the route '^(?i)/ClientAndServer/.+$' is enabled.
2024-02-16 15:12:40.238 +00:00 [INF] requestId: 0HN1F06RO0CTU:00000001, previousRequestId: no previous request id, message: Getting service discovery provider of Type 'Consul'...
2024-02-16 15:12:40.358 +00:00 [ERR] requestId: 0HN1F06RO0CTU:00000001, previousRequestId: no previous request id, message: Exception caught in global error handler, exception message: Cannot assign requested address (localhost:8500), exception stack:    at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext), inner exception message Cannot assign requested address, inner exception stack    at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken) RequestId: 0HN1F06RO0CTU:00000001
System.Net.Http.HttpRequestException: Cannot assign requested address (localhost:8500)
 ---> System.Net.Sockets.SocketException (99): Cannot assign requested address
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Net.Sockets.Socket.<ConnectAsync>g__WaitForConnectWithCancellation|281_0(AwaitableSocketAsyncEventArgs saea, ValueTask connectTask, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnectionPool.ConnectToTcpHostAsync(String host, Int32 port, HttpRequestMessage initialRequest, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.ConnectAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.CreateHttp11ConnectionAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.AddHttp11ConnectionAsync(QueueItem queueItem)
   at System.Threading.Tasks.TaskCompletionSourceWithCancellation`1.WaitWithCancellationAsync(CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.HttpConnectionWaiter`1.WaitForConnectionAsync(Boolean async, CancellationToken requestCancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.DiagnosticsHandler.SendAsyncCore(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpClient.<SendAsync>g__Core|83_0(HttpRequestMessage request, HttpCompletionOption completionOption, CancellationTokenSource cts, Boolean disposeCts, CancellationTokenSource pendingRequestsCts, CancellationToken originalCancellationToken)
   at Consul.GetRequest`1.Execute(CancellationToken ct)
   at Ocelot.Provider.Consul.Consul.GetAsync()
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancerCreator.<>c__DisplayClass0_0.<<Create>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Ocelot.LoadBalancer.LoadBalancers.NoLoadBalancer.Lease(HttpContext httpContext)
   at Ocelot.LoadBalancer.Middleware.LoadBalancingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamPathManipulation.Middleware.ClaimsToDownstreamPathMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.QueryStrings.Middleware.ClaimsToQueryStringMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.ClaimsToHeadersMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authorization.Middleware.AuthorizationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Claims.Middleware.ClaimsToClaimsMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Authentication.Middleware.AuthenticationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RequestId.Middleware.RequestIdMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.RateLimit.Middleware.ClientRateLimitMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Request.Middleware.DownstreamRequestInitialiserMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Headers.Middleware.HttpHeadersTransformationMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Security.Middleware.SecurityMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Fire(HttpContext httpContext, RequestDelegate next)
   at Ocelot.Multiplexer.MultiplexingMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.DownstreamRouteFinder.Middleware.DownstreamRouteFinderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Responder.Middleware.ResponderMiddleware.Invoke(HttpContext httpContext)
   at Ocelot.Errors.Middleware.ExceptionHandlerMiddleware.Invoke(HttpContext httpContext)
2024-02-16 15:12:40.410 +00:00 [INF] Request finished HTTP/1.1 GET http://localhost:18004/ClientAndServer/ClientAndServer/Server/Weather/Daily-Weather?city=Istanbul - - - 500 0 - 356.6151ms
2024-02-16 15:23:51.343 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 15:23:51.466 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 15:23:51.521 +00:00 [INF] Creating key {b5c4faf1-7b46-4f73-bcea-771a6019c59c} with creation date 2024-02-16 15:23:51Z, activation date 2024-02-16 15:23:51Z, and expiration date 2024-05-16 15:23:51Z.
2024-02-16 15:23:51.557 +00:00 [WRN] No XML encryptor configured. Key {b5c4faf1-7b46-4f73-bcea-771a6019c59c} may be persisted to storage in unencrypted form.
2024-02-16 15:23:51.576 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-b5c4faf1-7b46-4f73-bcea-771a6019c59c.xml'.
2024-02-16 15:23:51.707 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 15:23:51.712 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:23:51.713 +00:00 [INF] Hosting environment: Production
2024-02-16 15:23:51.714 +00:00 [INF] Content root path: /app
2024-02-16 15:27:20.205 +00:00 [WRN] Storing keys in a directory '/root/.aspnet/DataProtection-Keys' that may not be persisted outside of the container. Protected data will be unavailable when container is destroyed.
2024-02-16 15:27:20.490 +00:00 [INF] User profile is available. Using '/root/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-02-16 15:27:20.594 +00:00 [INF] Creating key {85db5349-adcb-4769-885d-6a909c2d9604} with creation date 2024-02-16 15:27:20Z, activation date 2024-02-16 15:27:20Z, and expiration date 2024-05-16 15:27:20Z.
2024-02-16 15:27:20.686 +00:00 [WRN] No XML encryptor configured. Key {85db5349-adcb-4769-885d-6a909c2d9604} may be persisted to storage in unencrypted form.
2024-02-16 15:27:20.714 +00:00 [INF] Writing data to file '/root/.aspnet/DataProtection-Keys/key-85db5349-adcb-4769-885d-6a909c2d9604.xml'.
2024-02-16 15:27:20.919 +00:00 [INF] Now listening on: http://[::]:80
2024-02-16 15:27:20.932 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2024-02-16 15:27:20.938 +00:00 [INF] Hosting environment: Production
2024-02-16 15:27:20.939 +00:00 [INF] Content root path: /app
